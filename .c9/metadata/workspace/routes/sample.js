{"filter":false,"title":"sample.js","tooltip":"/routes/sample.js","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":0,"column":0},"end":{"row":32,"column":1},"action":"insert","lines":["var express = require('express');","","module.exports = {","\tconfigure : function(app){","\t\tapp.configure( function () {","\t\t  app.use( express.bodyParser() );","\t\t  app.use(function(req, res, next) {","\t\t      res.setHeader('Access-Control-Allow-Origin', '*');","\t\t      res.setHeader('Access-Control-Allow-Methods', 'GET, POST');","\t\t      res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type, Authorization');","\t\t      next();","\t\t  });","\t\t  app.use( express.methodOverride() );","\t\t  app.use( express.static( __dirname + '/public' ) );","\t\t  app.use( app.router );","\t\t});","","\t\tapp.configure( 'development', function () {","\t\t  app.use( express.logger() );","\t\t  app.use( express.errorHandler({","\t\t    dumpExceptions : true,","\t\t    showStack      : true","\t\t  }) );","\t\t});","","\t\tapp.configure( 'production', function () {","\t\t  app.use( express.errorHandler() );","\t\t});","\t},","","\tDB_URL : 'mongodb://'+process.env.IP+'/'+this.DB_NAME || 'mongodb://localhost/'+this.DB_NAME,","\tDB_NAME : 'sample'","}"],"id":1}],[{"start":{"row":3,"column":10},"end":{"row":3,"column":11},"action":"remove","lines":[" "],"id":2},{"start":{"row":3,"column":25},"end":{"row":3,"column":26},"action":"insert","lines":[" "]},{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"remove","lines":[" "]},{"start":{"row":4,"column":24},"end":{"row":4,"column":25},"action":"remove","lines":[" "]},{"start":{"row":5,"column":2},"end":{"row":5,"column":4},"action":"remove","lines":["  "]},{"start":{"row":5,"column":2},"end":{"row":5,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":5,"column":11},"end":{"row":5,"column":12},"action":"remove","lines":[" "]},{"start":{"row":5,"column":31},"end":{"row":5,"column":32},"action":"remove","lines":[" "]},{"start":{"row":6,"column":2},"end":{"row":6,"column":4},"action":"remove","lines":["  "]},{"start":{"row":6,"column":2},"end":{"row":6,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":7,"column":2},"end":{"row":7,"column":8},"action":"remove","lines":["      "]},{"start":{"row":7,"column":2},"end":{"row":7,"column":4},"action":"insert","lines":["\t\t"]},{"start":{"row":8,"column":2},"end":{"row":8,"column":8},"action":"remove","lines":["      "]},{"start":{"row":8,"column":2},"end":{"row":8,"column":4},"action":"insert","lines":["\t\t"]},{"start":{"row":9,"column":2},"end":{"row":9,"column":8},"action":"remove","lines":["      "]},{"start":{"row":9,"column":2},"end":{"row":9,"column":4},"action":"insert","lines":["\t\t"]},{"start":{"row":10,"column":2},"end":{"row":10,"column":8},"action":"remove","lines":["      "]},{"start":{"row":10,"column":2},"end":{"row":10,"column":4},"action":"insert","lines":["\t\t"]},{"start":{"row":11,"column":2},"end":{"row":11,"column":4},"action":"remove","lines":["  "]},{"start":{"row":11,"column":2},"end":{"row":11,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":12,"column":0},"end":{"row":12,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":12,"column":3},"end":{"row":12,"column":5},"action":"remove","lines":["  "]},{"start":{"row":12,"column":11},"end":{"row":12,"column":12},"action":"remove","lines":[" "]},{"start":{"row":12,"column":35},"end":{"row":12,"column":36},"action":"remove","lines":[" "]},{"start":{"row":13,"column":2},"end":{"row":13,"column":4},"action":"remove","lines":["  "]},{"start":{"row":13,"column":2},"end":{"row":13,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":13,"column":11},"end":{"row":13,"column":12},"action":"remove","lines":[" "]},{"start":{"row":13,"column":26},"end":{"row":13,"column":27},"action":"remove","lines":[" "]},{"start":{"row":13,"column":47},"end":{"row":13,"column":48},"action":"remove","lines":[" "]},{"start":{"row":13,"column":48},"end":{"row":13,"column":49},"action":"remove","lines":[" "]},{"start":{"row":14,"column":2},"end":{"row":14,"column":4},"action":"remove","lines":["  "]},{"start":{"row":14,"column":2},"end":{"row":14,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":14,"column":11},"end":{"row":14,"column":12},"action":"remove","lines":[" "]},{"start":{"row":14,"column":21},"end":{"row":14,"column":22},"action":"remove","lines":[" "]},{"start":{"row":17,"column":16},"end":{"row":17,"column":17},"action":"remove","lines":[" "]},{"start":{"row":17,"column":39},"end":{"row":17,"column":40},"action":"remove","lines":[" "]},{"start":{"row":18,"column":2},"end":{"row":18,"column":4},"action":"remove","lines":["  "]},{"start":{"row":18,"column":2},"end":{"row":18,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":18,"column":11},"end":{"row":18,"column":12},"action":"remove","lines":[" "]},{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"remove","lines":[" "]},{"start":{"row":19,"column":2},"end":{"row":19,"column":4},"action":"remove","lines":["  "]},{"start":{"row":19,"column":2},"end":{"row":19,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":19,"column":11},"end":{"row":19,"column":12},"action":"remove","lines":[" "]},{"start":{"row":20,"column":2},"end":{"row":20,"column":6},"action":"remove","lines":["    "]},{"start":{"row":20,"column":2},"end":{"row":20,"column":4},"action":"insert","lines":["\t\t"]},{"start":{"row":20,"column":18},"end":{"row":20,"column":19},"action":"remove","lines":[" "]},{"start":{"row":21,"column":2},"end":{"row":21,"column":6},"action":"remove","lines":["    "]},{"start":{"row":21,"column":2},"end":{"row":21,"column":4},"action":"insert","lines":["\t\t"]},{"start":{"row":21,"column":13},"end":{"row":21,"column":19},"action":"remove","lines":["      "]},{"start":{"row":22,"column":2},"end":{"row":22,"column":4},"action":"remove","lines":["  "]},{"start":{"row":22,"column":2},"end":{"row":22,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":22,"column":5},"end":{"row":22,"column":6},"action":"remove","lines":[" "]},{"start":{"row":25,"column":16},"end":{"row":25,"column":17},"action":"remove","lines":[" "]},{"start":{"row":25,"column":38},"end":{"row":25,"column":39},"action":"remove","lines":[" "]},{"start":{"row":26,"column":2},"end":{"row":26,"column":4},"action":"remove","lines":["  "]},{"start":{"row":26,"column":2},"end":{"row":26,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":26,"column":11},"end":{"row":26,"column":12},"action":"remove","lines":[" "]},{"start":{"row":26,"column":33},"end":{"row":26,"column":34},"action":"remove","lines":[" "]},{"start":{"row":30,"column":7},"end":{"row":30,"column":8},"action":"remove","lines":[" "]},{"start":{"row":30,"column":21},"end":{"row":30,"column":22},"action":"insert","lines":[" "]},{"start":{"row":30,"column":23},"end":{"row":30,"column":24},"action":"insert","lines":[" "]},{"start":{"row":30,"column":38},"end":{"row":30,"column":39},"action":"insert","lines":[" "]},{"start":{"row":30,"column":40},"end":{"row":30,"column":41},"action":"insert","lines":[" "]},{"start":{"row":30,"column":44},"end":{"row":30,"column":45},"action":"insert","lines":[" "]},{"start":{"row":30,"column":46},"end":{"row":30,"column":47},"action":"insert","lines":[" "]},{"start":{"row":30,"column":85},"end":{"row":30,"column":86},"action":"insert","lines":[" "]},{"start":{"row":30,"column":87},"end":{"row":30,"column":88},"action":"insert","lines":[" "]},{"start":{"row":31,"column":8},"end":{"row":31,"column":9},"action":"remove","lines":[" "]}],[{"start":{"row":0,"column":0},"end":{"row":32,"column":1},"action":"remove","lines":["var express = require('express');","","module.exports = {","\tconfigure: function(app) {","\t\tapp.configure(function() {","\t\t\tapp.use(express.bodyParser());","\t\t\tapp.use(function(req, res, next) {","\t\t\t\tres.setHeader('Access-Control-Allow-Origin', '*');","\t\t\t\tres.setHeader('Access-Control-Allow-Methods', 'GET, POST');","\t\t\t\tres.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type, Authorization');","\t\t\t\tnext();","\t\t\t});","\t\t\tapp.use(express.methodOverride());","\t\t\tapp.use(express.static(__dirname + '/public'));","\t\t\tapp.use(app.router);","\t\t});","","\t\tapp.configure('development', function() {","\t\t\tapp.use(express.logger());","\t\t\tapp.use(express.errorHandler({","\t\t\t\tdumpExceptions: true,","\t\t\t\tshowStack: true","\t\t\t}));","\t\t});","","\t\tapp.configure('production', function() {","\t\t\tapp.use(express.errorHandler());","\t\t});","\t},","","\tDB_URL: 'mongodb://' + process.env.IP + '/' + this.DB_NAME || 'mongodb://localhost/' + this.DB_NAME,","\tDB_NAME: 'sample'","}"],"id":3},{"start":{"row":0,"column":0},"end":{"row":7,"column":1},"action":"insert","lines":["var config = require('./config');","var mongoose = require('mongoose');","","module.exports = {","\tconnect : function(){","\t\tmongoose.connect(config.DB_URL);","\t}","}"]}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"remove","lines":[" "],"id":4},{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":[" "]}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":1},"action":"remove","lines":["var config = require('./config');","var mongoose = require('mongoose');","","module.exports = {","\tconnect: function() {","\t\tmongoose.connect(config.DB_URL);","\t}","}"],"id":5},{"start":{"row":0,"column":0},"end":{"row":10,"column":1},"action":"insert","lines":["var _app;","","module.exports = {","\tinit : function(app){","\t\t_app = app;","\t},","","\tregister : function(module){","\t\tmodule.initMe(_app);","\t}","}"]}],[{"start":{"row":3,"column":5},"end":{"row":3,"column":6},"action":"remove","lines":[" "],"id":7},{"start":{"row":3,"column":20},"end":{"row":3,"column":21},"action":"insert","lines":[" "]},{"start":{"row":7,"column":9},"end":{"row":7,"column":10},"action":"remove","lines":[" "]},{"start":{"row":7,"column":27},"end":{"row":7,"column":28},"action":"insert","lines":[" "]}],[{"start":{"row":0,"column":0},"end":{"row":10,"column":1},"action":"remove","lines":["var _app;","","module.exports = {","\tinit: function(app) {","\t\t_app = app;","\t},","","\tregister: function(module) {","\t\tmodule.initMe(_app);","\t}","}"],"id":8},{"start":{"row":0,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["/*"," * app.js - Express server with routing","*/","","/*jslint         node    : true, continue : true,","  devel  : true, indent  : 2,    maxerr   : 50,","  newcap : true, nomen   : true, plusplus : true,","  regexp : true, sloppy  : true, vars     : false,","  white  : true","*/","/*global */","","// ------------ BEGIN MODULE SCOPE VARIABLES --------------","'use strict';","var","  http    = require( 'http'         ),","  express = require( 'express'      ),","  morgan = require('morgan'),","  bodyParser = require('body-parser'),","","  config = require('./config/config'),","  db = require('./config/db'),","  route = require('./config/route'),","","  port = process.env.PORT || 3000,","","  app     = express(),","  server  = http.createServer( app );","// ------------- END MODULE SCOPE VARIABLES ---------------","","db.connect();","config.configure(app);","route.init(app);","// -------------- END SERVER CONFIGURATION ----------------","","process.on('uncaughtException', function(err) {","    console.log(err);","});","// ----------------- BEGIN START SERVER -------------------","server.listen( port );","console.log(","  'Express server listening on port %d in %s mode',","   server.address().port, app.settings.env",");","// ------------------ END START SERVER --------------------",""]}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":1},"action":"insert","lines":[" "],"id":9},{"start":{"row":15,"column":0},"end":{"row":15,"column":2},"action":"remove","lines":["  "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":15,"column":6},"end":{"row":15,"column":9},"action":"remove","lines":["   "]},{"start":{"row":15,"column":16},"end":{"row":15,"column":17},"action":"remove","lines":[" "]},{"start":{"row":15,"column":22},"end":{"row":15,"column":31},"action":"remove","lines":["         "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":2},"action":"remove","lines":["  "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":16,"column":19},"end":{"row":16,"column":20},"action":"remove","lines":[" "]},{"start":{"row":16,"column":28},"end":{"row":16,"column":34},"action":"remove","lines":["      "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":2},"action":"remove","lines":["  "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":18,"column":0},"end":{"row":18,"column":2},"action":"remove","lines":["  "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"remove","lines":["  "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"remove","lines":["  "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":22,"column":0},"end":{"row":22,"column":2},"action":"remove","lines":["  "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":24,"column":0},"end":{"row":24,"column":2},"action":"remove","lines":["  "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":26,"column":0},"end":{"row":26,"column":2},"action":"remove","lines":["  "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":26,"column":5},"end":{"row":26,"column":9},"action":"remove","lines":["    "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":2},"action":"remove","lines":["  "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":27,"column":8},"end":{"row":27,"column":9},"action":"remove","lines":[" "]},{"start":{"row":27,"column":28},"end":{"row":27,"column":29},"action":"remove","lines":[" "]},{"start":{"row":27,"column":31},"end":{"row":27,"column":32},"action":"remove","lines":[" "]},{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"remove","lines":["    "]},{"start":{"row":36,"column":0},"end":{"row":36,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":39,"column":14},"end":{"row":39,"column":15},"action":"remove","lines":[" "]},{"start":{"row":39,"column":18},"end":{"row":39,"column":19},"action":"remove","lines":[" "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":2},"action":"remove","lines":["  "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":42,"column":0},"end":{"row":42,"column":3},"action":"remove","lines":["   "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":16,"column":30},"end":{"row":18,"column":37},"action":"remove","lines":["","\tmorgan = require('morgan'),","\tbodyParser = require('body-parser'),"],"id":10}],[{"start":{"row":0,"column":0},"end":{"row":43,"column":0},"action":"remove","lines":["/*"," * app.js - Express server with routing"," */","","/*jslint         node    : true, continue : true,","  devel  : true, indent  : 2,    maxerr   : 50,","  newcap : true, nomen   : true, plusplus : true,","  regexp : true, sloppy  : true, vars     : false,","  white  : true","*/","/*global */","","// ------------ BEGIN MODULE SCOPE VARIABLES --------------","'use strict';","var","\thttp = require('http'),","\texpress = require('express'),","","\tconfig = require('./config/config'),","\tdb = require('./config/db'),","\troute = require('./config/route'),","","\tport = process.env.PORT || 3000,","","\tapp = express(),","\tserver = http.createServer(app);","// ------------- END MODULE SCOPE VARIABLES ---------------","","db.connect();","config.configure(app);","route.init(app);","// -------------- END SERVER CONFIGURATION ----------------","","process.on('uncaughtException', function(err) {","\tconsole.log(err);","});","// ----------------- BEGIN START SERVER -------------------","server.listen(port);","console.log(","\t'Express server listening on port %d in %s mode',","\tserver.address().port, app.settings.env",");","// ------------------ END START SERVER --------------------",""],"id":11},{"start":{"row":0,"column":0},"end":{"row":11,"column":1},"action":"insert","lines":["module.exports = {","\tinitMe : function(app){","\t\tapp.all( '/*?', function ( request, response, next ) {","\t\t    response.contentType( 'json' );","\t\t    next();","\t\t  });","","\t\tapp.get('/', function(req, res){","\t\t\tres.send(req.body);","\t\t});","\t}","}"]}],[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"remove","lines":[" "],"id":12},{"start":{"row":1,"column":22},"end":{"row":1,"column":23},"action":"insert","lines":[" "]},{"start":{"row":2,"column":10},"end":{"row":2,"column":11},"action":"remove","lines":[" "]},{"start":{"row":2,"column":25},"end":{"row":2,"column":26},"action":"remove","lines":[" "]},{"start":{"row":2,"column":26},"end":{"row":2,"column":27},"action":"remove","lines":[" "]},{"start":{"row":2,"column":49},"end":{"row":2,"column":50},"action":"remove","lines":[" "]},{"start":{"row":3,"column":2},"end":{"row":3,"column":6},"action":"remove","lines":["    "]},{"start":{"row":3,"column":2},"end":{"row":3,"column":3},"action":"insert","lines":["\t"]},{"start":{"row":3,"column":24},"end":{"row":3,"column":25},"action":"remove","lines":[" "]},{"start":{"row":3,"column":30},"end":{"row":3,"column":31},"action":"remove","lines":[" "]},{"start":{"row":4,"column":0},"end":{"row":4,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":4,"column":3},"end":{"row":4,"column":7},"action":"remove","lines":["    "]},{"start":{"row":5,"column":2},"end":{"row":5,"column":4},"action":"remove","lines":["  "]},{"start":{"row":7,"column":33},"end":{"row":7,"column":34},"action":"insert","lines":[" "]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":9,"column":5},"end":{"row":9,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":20,"mode":"ace/mode/javascript"}},"timestamp":1433512357269,"hash":"9a19dbe687363d29c0bfe514f72688485b8c7148"}